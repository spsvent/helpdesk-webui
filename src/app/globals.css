@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   SkyPark Help Desk Theme System
   - Forest Adventure: Default theme (most of year)
   - Santa's Village: Nov 1 - Jan 7
   ============================================ */

/* Forest Adventure Theme (Default) */
:root, .theme-forest {
  /* Primary: Deep forest green */
  --color-brand-primary: #2D5016;
  --color-brand-primary-light: #4A7C23;
  --color-brand-primary-dark: #1E3610;

  /* Secondary: Earthy brown */
  --color-brand-secondary: #8B5E3C;

  /* Accent: Golden amber */
  --color-brand-accent: #D4A853;

  /* Status colors */
  --color-brand-green: #36B37E;
  --color-brand-yellow: #FFAB00;
  --color-brand-red: #E53E3E;

  /* Text */
  --color-text-primary: #1A2E05;
  --color-text-secondary: #4A5D3A;

  /* Backgrounds */
  --color-bg-subtle: #F5F7F2;
  --color-bg-card: #FFFFFF;

  /* Border */
  --color-border: #D4DBC8;

  /* Scrollbar */
  --color-scrollbar: #C4CDB8;
}

/* Santa's Village Theme (Holiday Season) */
.theme-santa {
  /* Primary: Classic Christmas red */
  --color-brand-primary: #B22234;
  --color-brand-primary-light: #D4364A;
  --color-brand-primary-dark: #8B1A28;

  /* Secondary: Holly green */
  --color-brand-secondary: #165B33;

  /* Accent: Warm gold */
  --color-brand-accent: #D4AF37;

  /* Status colors */
  --color-brand-green: #165B33;
  --color-brand-yellow: #FFD700;
  --color-brand-red: #B22234;

  /* Text */
  --color-text-primary: #2D1810;
  --color-text-secondary: #5C4033;

  /* Backgrounds - warm snow white */
  --color-bg-subtle: #FDF8F5;
  --color-bg-card: #FFFEFA;

  /* Border */
  --color-border: #E8DDD4;

  /* Scrollbar */
  --color-scrollbar: #DDD0C4;
}

/* ============================================
   Dark Mode Variants
   ============================================ */

/* Forest Adventure Dark Mode */
.theme-forest.dark {
  /* Primary: Lighter green for dark backgrounds */
  --color-brand-primary: #4A7C23;
  --color-brand-primary-light: #5C9A2D;
  --color-brand-primary-dark: #3D6A1C;

  /* Secondary: Lighter brown */
  --color-brand-secondary: #A67C52;

  /* Accent: Brighter gold */
  --color-brand-accent: #E8BC5E;

  /* Status colors - brighter for dark mode */
  --color-brand-green: #48D89A;
  --color-brand-yellow: #FFC233;
  --color-brand-red: #F56565;

  /* Text - light text for dark backgrounds */
  --color-text-primary: #E8F0E0;
  --color-text-secondary: #A8B89A;

  /* Backgrounds - dark */
  --color-bg-subtle: #1A1F16;
  --color-bg-card: #252B20;

  /* Border */
  --color-border: #3A4232;

  /* Scrollbar */
  --color-scrollbar: #4A5440;
}

/* Santa's Village Dark Mode */
.theme-santa.dark {
  /* Primary: Brighter red for dark backgrounds */
  --color-brand-primary: #D4364A;
  --color-brand-primary-light: #E8495D;
  --color-brand-primary-dark: #B22234;

  /* Secondary: Brighter green */
  --color-brand-secondary: #2D8B5A;

  /* Accent: Brighter gold */
  --color-brand-accent: #F0C850;

  /* Status colors - brighter for dark mode */
  --color-brand-green: #2D8B5A;
  --color-brand-yellow: #FFE033;
  --color-brand-red: #E8495D;

  /* Text - light text for dark backgrounds */
  --color-text-primary: #FDF0E8;
  --color-text-secondary: #C9B8A8;

  /* Backgrounds - warm dark */
  --color-bg-subtle: #1F1815;
  --color-bg-card: #2A2220;

  /* Border */
  --color-border: #4A3830;

  /* Scrollbar */
  --color-scrollbar: #5A4840;
}

/* Dark mode form field text fix - ensure readable text in inputs */
.dark input,
.dark textarea,
.dark select {
  color: #1a1a1a !important;
  background-color: #ffffff !important;
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #6b7280 !important;
}

/* Custom styles for helpdesk UI */
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;
  color: var(--color-text-primary);
  background-color: var(--color-bg-subtle);
}

/* Status badges */
.badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.badge-new {
  background-color: color-mix(in srgb, var(--color-brand-primary) 15%, white);
  color: var(--color-brand-primary-dark);
}

.badge-in-progress {
  background-color: color-mix(in srgb, var(--color-brand-green) 15%, white);
  color: var(--color-brand-green);
}

.badge-pending {
  background-color: color-mix(in srgb, var(--color-brand-yellow) 20%, white);
  color: #92640D;
}

.badge-on-hold {
  background-color: color-mix(in srgb, var(--color-text-secondary) 15%, var(--color-bg-card));
  color: var(--color-text-secondary);
}

.badge-resolved {
  background-color: color-mix(in srgb, var(--color-brand-green) 12%, var(--color-bg-card));
  color: var(--color-brand-green);
}

.badge-closed {
  background-color: color-mix(in srgb, var(--color-text-secondary) 10%, var(--color-bg-card));
  color: var(--color-text-secondary);
}

/* Priority badges */
.priority-normal {
  color: var(--color-text-secondary);
}

.priority-urgent {
  color: var(--color-brand-red);
  @apply font-semibold;
}

/* Comment cards */
.comment-card {
  background-color: var(--color-bg-card);
  border-color: var(--color-border);
  @apply rounded-lg border p-4 mb-3;
}

.comment-card-internal {
  background-color: color-mix(in srgb, var(--color-brand-yellow) 10%, white);
  border-color: color-mix(in srgb, var(--color-brand-yellow) 30%, white);
}

.comment-card-description {
  background-color: color-mix(in srgb, var(--color-brand-primary) 8%, white);
  border-color: color-mix(in srgb, var(--color-brand-primary) 20%, white);
}

/* Dark mode comment cards - ensure readable text on light backgrounds */
.dark .comment-card,
.dark .comment-card-internal,
.dark .comment-card-description {
  color: #1a1a1a;
}

/* User avatar */
.avatar {
  background-color: var(--color-brand-primary);
  @apply w-8 h-8 rounded-full text-white flex items-center justify-center text-sm font-medium;
}

/* Scrollable container */
.scroll-container {
  @apply overflow-y-auto;
  scrollbar-width: thin;
  scrollbar-color: var(--color-scrollbar) transparent;
}

.scroll-container::-webkit-scrollbar {
  width: 6px;
}

.scroll-container::-webkit-scrollbar-track {
  background: transparent;
}

.scroll-container::-webkit-scrollbar-thumb {
  background-color: var(--color-scrollbar);
  border-radius: 3px;
}

/* Primary button styling */
.btn-primary {
  background-color: var(--color-brand-primary);
  color: white;
  @apply px-4 py-2 rounded-lg font-medium transition-colors;
}

.btn-primary:hover {
  background-color: var(--color-brand-primary-light);
}

.btn-primary:disabled {
  @apply opacity-50 cursor-not-allowed;
}

/* Focus ring using theme color */
.focus-ring:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--color-bg-subtle), 0 0 0 4px var(--color-brand-primary);
}

/* Theme transition for smooth switching */
* {
  transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

/* ============================================
   Mobile/iPad Responsive Utilities
   ============================================ */

/* Safe area insets for notched devices */
.safe-area-inset {
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

.safe-area-inset-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Touch-friendly tap targets (minimum 44x44px recommended by Apple) */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Prevent text selection on touch */
.no-select {
  -webkit-user-select: none;
  user-select: none;
}

/* Prevent pull-to-refresh on iOS */
html {
  overscroll-behavior: none;
}

/* Better touch scrolling */
.touch-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
}

/* Responsive font sizes */
@media (max-width: 640px) {
  html {
    font-size: 14px;
  }
}

/* iPad-specific styles (768px - 1024px) */
@media (min-width: 768px) and (max-width: 1024px) {
  /* Slightly larger tap targets on iPad */
  .btn-primary {
    @apply px-5 py-2.5;
  }
}

/* Landscape mode on tablets */
@media (min-width: 768px) and (max-height: 600px) and (orientation: landscape) {
  /* Compact header in landscape */
  header {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* PWA standalone mode - hide browser UI related items */
@media (display-mode: standalone) {
  /* Can add specific styles for when running as PWA */
}
